<!DOCTYPE html>
<html>
<head>
    <style>
        body{
            background: #000;
        }
    </style>
    <title>Simple Shader Example</title>
    <script type="text/javascript">
        function init() {
            const canvas = document.getElementById('glcanvas');
            const gl = canvas.getContext('webgl2');

            if (!gl) {
                alert('WebGL 2.0 not supported');
                return;
            }

            const vertexShaderSource = `#version 300 es
                in vec4 position;
                out vec2 texCoords;

                void main() {
                    texCoords = position.xy;
                    gl_Position = position;
                }
            `;

            const fragmentShaderSource = `#version 300 es
                precision mediump float;
                out vec4 fragColor;

                void main() {
                    fragColor = vec4(1.0, 0.0, 0.0, 1.0);
                }
            `;

            const program = createProgram(gl, vertexShaderSource, fragmentShaderSource);

            const positionBuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
                0.0, 0.5,
                -0.5, -0.5,
                0.5, -0.5
            ]), gl.STATIC_DRAW);

            const positionAttributeLocation = gl.getAttribLocation(program, 'position');
            gl.enableVertexAttribArray(positionAttributeLocation);
            gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);
            
            gl.useProgram(program);
            gl.drawArrays(gl.TRIANGLES, 0, 3);
        }

        function createProgram(gl, vertexShaderSource, fragmentShaderSource) {
            const vertexShader = gl.createShader(gl.VERTEX_SHADER);
            gl.shaderSource(vertexShader, vertexShaderSource);
            gl.compileShader(vertexShader);

            if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {
                console.error('Vertex shader compilation failed: ' + gl.getShaderInfoLog(vertexShader));
                return null;
            }

            const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
            gl.shaderSource(fragmentShader, fragmentShaderSource);
            gl.compileShader(fragmentShader);

            if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
                console.error('Fragment shader compilation failed: ' + gl.getShaderInfoLog(fragmentShader));
                return null;
            }

            const program = gl.createProgram();
            gl.attachShader(program, vertexShader);
            gl.attachShader(program, fragmentShader);
            gl.linkProgram(program);

            if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
                console.error('Program linking failed: ' + gl.getProgramInfoLog(program));
                return null;
            }

            return program;
        }
    </script>
</head>
<body onload="init()">
    <canvas id="glcanvas" width="500" height="500"></canvas>
</body>
</html>